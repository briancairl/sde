cc_library(
  name="build",
  hdrs=[
    "include/sde/build.hpp",
  ],
  strip_include_prefix="include",
  deps=[],
  visibility=["//visibility:public"]
)

cc_library(
  name="expected",
  hdrs=["include/sde/expected.hpp"],
  strip_include_prefix="include",
  deps=["@tl_expected//:tl_expected"],
  visibility=["//visibility:public"]
)

cc_library(
  name="geometry",
  hdrs=[
    "include/sde/geometry.hpp",
    "include/sde/geometry_utils.hpp",
    "include/sde/geometry_io.hpp"
  ],
  srcs=[
    "src/geometry.cpp",
  ],
  strip_include_prefix="include",
  deps=[
    "//core/serialization",
    "@eigen//:eigen",
  ],
  visibility=["//visibility:public"]
)

cc_library(
  name="logging",
  hdrs=["include/sde/logging.hpp"],
  strip_include_prefix="include",
  deps=[":build"],
  visibility=["//visibility:public"]
)

cc_library(
  name="asset",
  hdrs=["include/sde/asset.hpp"],
  strip_include_prefix="include",
  deps=[],
  visibility=["//visibility:public"]
)

cc_library(
  name="resource",
  hdrs=[
    "include/sde/resource.hpp",
    "include/sde/resource_io.hpp",
    "include/sde/resource_cache.hpp",
    "include/sde/resource_cache_io.hpp",
    "include/sde/resource_handle.hpp",
    "include/sde/resource_handle_io.hpp",
    "include/sde/resource_wrapper.hpp",
  ],
  strip_include_prefix="include",
  deps=[
    "//core/serialization",
    ":core",
    ":asset",
  ],
  visibility=["//visibility:public"]
)

cc_library(
  name="core",
  hdrs=[
    "include/sde/crtp.hpp",
    "include/sde/format.hpp",
    "include/sde/hash.hpp",
    "include/sde/hash_io.hpp",
    "include/sde/time.hpp",
    "include/sde/time_io.hpp",
    "include/sde/time_ostream.hpp",
    "include/sde/type.hpp",
    "include/sde/view.hpp",
  ],
  strip_include_prefix="include",
  deps=[":build", ":logging"],
  visibility=["//visibility:public"]
)